{"ast":null,"code":"var _jsxFileName = \"/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props); //this.state = { firstName: \"\", lastName: \"\", username: \"\", displayState: \"entry\", password: \"\", loading: false, newUser: false }\n\n    this.state = {\n      displayState: \"username\",\n      loading: false,\n      inputValue: \"\",\n      newUser: false,\n      username: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.authenticate = this.authenticate.bind(this);\n    this.checkUsername = this.checkUsername.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      inputValue: event.target.value\n    });\n  }\n\n  checkUsername(event) {\n    event.preventDefault();\n    this.setState({\n      loading: true\n    });\n    const username = this.state.inputValue;\n    const url = \"http://localhost:8080/check_user?username=\" + username;\n    fetch(url, {\n      method: 'POST'\n    }).then(response => response.json()).then(data => {\n      let newUser = false;\n      let newState = data.state;\n\n      if (data.state === \"new_user\") {\n        newUser = true;\n        newState = \"emailVerification\";\n      }\n\n      this.setState({\n        displayState: newState,\n        loading: false,\n        newUser: newUser,\n        username,\n        inputValue: \"\"\n      });\n    }).catch(error => {\n      this.setState({\n        displayState: \"error\"\n      });\n    });\n    ;\n  }\n\n  authenticate(event) {\n    event.preventDefault();\n    const token = this.state.inputValue;\n    const url = \"http://localhost:8080/authenticate?username=\" + this.state.username + \"&token=\" + token;\n    fetch(url, {\n      method: \"POST\"\n    }).then(response => response.json()).then(data => {\n      if (data.authenticated) {\n        if (this.state.newUser) {\n          this.setState({\n            displayState: \"newUserFirstName\"\n          });\n        }\n\n        document.cookie = \"token=\" + data.token + \"; path=/\";\n        window.location = \"/\";\n      } else {\n        this.setState({\n          displayState: \"invalid_password\"\n        });\n      }\n    });\n  }\n\n  setFirstName() {\n    this.setState({\n      firstName: this.state.inputValue,\n      inputValue: \"\",\n      displayState: newUserLastName\n    });\n  }\n\n  render() {\n    const pageStates = {\n      username: {\n        title: \"Hey There ðŸ‘‹\",\n        subtitle: \"Welcome to the DMK Portal! Let's start with your Purdue username.\",\n        onFormSubmit: this.checkUsername,\n        inputPlaceholder: \"Purdue Username\"\n      },\n      emailVerification: {\n        title: \"Check your email ðŸ“«\",\n        subtitle: \"Check your Purdue email for authentication (or continue if password saved).\",\n        onFormSubmit: this.authenticate,\n        inputPlaceholder: \"top secret...\"\n      },\n      newUserFirstName: {\n        title: \"You look new ðŸ‘€\",\n        subtitle: \"What's your first name?\",\n        onFormSubmit: this.setFirstName,\n        inputPlaceholder: \"What do you go by?\"\n      },\n      newUserFirstName: {\n        title: \"...and last name ðŸŽ‰\",\n        subtitle: \"No middle name please.\",\n        onFormSubmit: this.setLastName,\n        inputPlaceholder: \"Who are your people?\"\n      },\n      error: {\n        title: \"Well, that's embarrassing ðŸ™ˆ\",\n        subtitle: \"There's an error on our end. Try again later!\",\n        onFormSubmit: this.authenticate,\n        inputPlaceholder: \"top secret...\",\n        hideForm: true\n      }\n    };\n    const stateElements = pageStates[this.state.displayState];\n    return __jsx(\"div\", {\n      className: \"jsx-1555840043\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, __jsx(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), __jsx(ContentBox, {\n      title: stateElements.title,\n      subtitle: stateElements.subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, __jsx(\"form\", {\n      onSubmit: stateElements.onFormSubmit,\n      className: \"jsx-1555840043\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, __jsx(Input, {\n      onChange: this.handleChange,\n      value: this.state.inputValue,\n      placeholder: stateElements.inputPlaceholder,\n      hide: stateElements.hideForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), __jsx(Button, {\n      loading: this.state.loading,\n      hide: stateElements.hideForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"1555840043\",\n      __self: this\n    }, \"body{margin:0px;background-color:#F7F7FB;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWhpbC9Ecm9wYm94L1BvcnRmb2xpby9kbWstcG9ydGFsL3BhZ2VzL2xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJHVyxBQUcwQixXQUNjLHlCQUMyRyxvSUFFakcsbUNBQ3JDIiwiZmlsZSI6Ii9Vc2Vycy9zYWhpbC9Ecm9wYm94L1BvcnRmb2xpby9kbWstcG9ydGFsL3BhZ2VzL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgSW5kZXggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICAvL3RoaXMuc3RhdGUgPSB7IGZpcnN0TmFtZTogXCJcIiwgbGFzdE5hbWU6IFwiXCIsIHVzZXJuYW1lOiBcIlwiLCBkaXNwbGF5U3RhdGU6IFwiZW50cnlcIiwgcGFzc3dvcmQ6IFwiXCIsIGxvYWRpbmc6IGZhbHNlLCBuZXdVc2VyOiBmYWxzZSB9XG4gICAgdGhpcy5zdGF0ZSA9IHsgZGlzcGxheVN0YXRlOiBcInVzZXJuYW1lXCIsIGxvYWRpbmc6IGZhbHNlLCBpbnB1dFZhbHVlOiBcIlwiLCBuZXdVc2VyOiBmYWxzZSwgdXNlcm5hbWU6IFwiXCIgfVxuXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXV0aGVudGljYXRlID0gdGhpcy5hdXRoZW50aWNhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoZWNrVXNlcm5hbWUgPSB0aGlzLmNoZWNrVXNlcm5hbWUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gIH1cblxuICBjaGVja1VzZXJuYW1lKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogdHJ1ZSB9KVxuICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlO1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NoZWNrX3VzZXI/dXNlcm5hbWU9XCIgKyB1c2VybmFtZTtcbiAgICBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0IG5ld1VzZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0gZGF0YS5zdGF0ZTtcbiAgICAgICAgaWYgKGRhdGEuc3RhdGUgPT09IFwibmV3X3VzZXJcIikge1xuICAgICAgICAgIG5ld1VzZXIgPSB0cnVlO1xuICAgICAgICAgIG5ld1N0YXRlID0gXCJlbWFpbFZlcmlmaWNhdGlvblwiXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRpc3BsYXlTdGF0ZTogbmV3U3RhdGUsIGxvYWRpbmc6IGZhbHNlLCBuZXdVc2VyOiBuZXdVc2VyLCB1c2VybmFtZSwgaW5wdXRWYWx1ZTogXCJcIiB9KTtcbiAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGlzcGxheVN0YXRlOiBcImVycm9yXCIgfSk7XG4gICAgICB9KTs7XG4gIH1cblxuICBhdXRoZW50aWNhdGUoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRva2VuID0gdGhpcy5zdGF0ZS5pbnB1dFZhbHVlO1xuICAgIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGhlbnRpY2F0ZT91c2VybmFtZT1cIiArIHRoaXMuc3RhdGUudXNlcm5hbWUgKyBcIiZ0b2tlbj1cIiArIHRva2VuO1xuICAgIGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIlxuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5uZXdVc2VyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGlzcGxheVN0YXRlOiBcIm5ld1VzZXJGaXJzdE5hbWVcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gXCJ0b2tlbj1cIiArIGRhdGEudG9rZW4gKyBcIjsgcGF0aD0vXCI7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRpc3BsYXlTdGF0ZTogXCJpbnZhbGlkX3Bhc3N3b3JkXCIgfSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIHNldEZpcnN0TmFtZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZmlyc3ROYW1lOiB0aGlzLnN0YXRlLmlucHV0VmFsdWUsIGlucHV0VmFsdWU6IFwiXCIsIGRpc3BsYXlTdGF0ZTogbmV3VXNlckxhc3ROYW1lIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHBhZ2VTdGF0ZXMgPSB7XG4gICAgICB1c2VybmFtZToge1xuICAgICAgICB0aXRsZTogXCJIZXkgVGhlcmUg8J+Ri1wiLFxuICAgICAgICBzdWJ0aXRsZTogXCJXZWxjb21lIHRvIHRoZSBETUsgUG9ydGFsISBMZXQncyBzdGFydCB3aXRoIHlvdXIgUHVyZHVlIHVzZXJuYW1lLlwiLFxuICAgICAgICBvbkZvcm1TdWJtaXQ6IHRoaXMuY2hlY2tVc2VybmFtZSxcbiAgICAgICAgaW5wdXRQbGFjZWhvbGRlcjogXCJQdXJkdWUgVXNlcm5hbWVcIlxuICAgICAgfSxcbiAgICAgIGVtYWlsVmVyaWZpY2F0aW9uOiB7XG4gICAgICAgIHRpdGxlOiBcIkNoZWNrIHlvdXIgZW1haWwg8J+Tq1wiLFxuICAgICAgICBzdWJ0aXRsZTogXCJDaGVjayB5b3VyIFB1cmR1ZSBlbWFpbCBmb3IgYXV0aGVudGljYXRpb24gKG9yIGNvbnRpbnVlIGlmIHBhc3N3b3JkIHNhdmVkKS5cIixcbiAgICAgICAgb25Gb3JtU3VibWl0OiB0aGlzLmF1dGhlbnRpY2F0ZSxcbiAgICAgICAgaW5wdXRQbGFjZWhvbGRlcjogXCJ0b3Agc2VjcmV0Li4uXCJcbiAgICAgIH0sXG4gICAgICBuZXdVc2VyRmlyc3ROYW1lOiB7XG4gICAgICAgIHRpdGxlOiBcIllvdSBsb29rIG5ldyDwn5GAXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIldoYXQncyB5b3VyIGZpcnN0IG5hbWU/XCIsXG4gICAgICAgIG9uRm9ybVN1Ym1pdDogdGhpcy5zZXRGaXJzdE5hbWUsXG4gICAgICAgIGlucHV0UGxhY2Vob2xkZXI6IFwiV2hhdCBkbyB5b3UgZ28gYnk/XCJcbiAgICAgIH0sXG4gICAgICBuZXdVc2VyRmlyc3ROYW1lOiB7XG4gICAgICAgIHRpdGxlOiBcIi4uLmFuZCBsYXN0IG5hbWUg8J+OiVwiLFxuICAgICAgICBzdWJ0aXRsZTogXCJObyBtaWRkbGUgbmFtZSBwbGVhc2UuXCIsXG4gICAgICAgIG9uRm9ybVN1Ym1pdDogdGhpcy5zZXRMYXN0TmFtZSxcbiAgICAgICAgaW5wdXRQbGFjZWhvbGRlcjogXCJXaG8gYXJlIHlvdXIgcGVvcGxlP1wiXG4gICAgICB9LFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgdGl0bGU6IFwiV2VsbCwgdGhhdCdzIGVtYmFycmFzc2luZyDwn5mIXCIsXG4gICAgICAgIHN1YnRpdGxlOiBcIlRoZXJlJ3MgYW4gZXJyb3Igb24gb3VyIGVuZC4gVHJ5IGFnYWluIGxhdGVyIVwiLFxuICAgICAgICBvbkZvcm1TdWJtaXQ6IHRoaXMuYXV0aGVudGljYXRlLFxuICAgICAgICBpbnB1dFBsYWNlaG9sZGVyOiBcInRvcCBzZWNyZXQuLi5cIixcbiAgICAgICAgaGlkZUZvcm06IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3RhdGVFbGVtZW50cyA9IHBhZ2VTdGF0ZXNbdGhpcy5zdGF0ZS5kaXNwbGF5U3RhdGVdO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8TmF2QmFyIC8+XG4gICAgICAgIHsvKnRoaXMuZGlzcGxheUJveCgpKi99XG4gICAgICAgIDxDb250ZW50Qm94IHRpdGxlPXtzdGF0ZUVsZW1lbnRzLnRpdGxlfSBzdWJ0aXRsZT17c3RhdGVFbGVtZW50cy5zdWJ0aXRsZX0+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3N0YXRlRWxlbWVudHMub25Gb3JtU3VibWl0fT5cbiAgICAgICAgICAgIDxJbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IHZhbHVlPXt0aGlzLnN0YXRlLmlucHV0VmFsdWV9IHBsYWNlaG9sZGVyPXtzdGF0ZUVsZW1lbnRzLmlucHV0UGxhY2Vob2xkZXJ9IGhpZGU9e3N0YXRlRWxlbWVudHMuaGlkZUZvcm19IC8+XG4gICAgICAgICAgICA8QnV0dG9uIGxvYWRpbmc9e3RoaXMuc3RhdGUubG9hZGluZ30gaGlkZT17c3RhdGVFbGVtZW50cy5oaWRlRm9ybX0gLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvQ29udGVudEJveD5cbiAgICAgICAgey8qR2xvYmFsIENTUyBnb2VzIGluIGhlcmUqL31cbiAgICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+XG4gICAgICAgICAge2BcbiAgICAgICAgICAgIGJvZHkge1xuICAgICAgICAgICAgICBtYXJnaW46IDBweDtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGQjtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCxGaXJhIFNhbnMsRHJvaWQgU2FucyxIZWx2ZXRpY2EgTmV1ZSxzYW5zLXNlcmlmO1xuXG4gICAgICAgICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2ID5cbiAgICApO1xuICB9XG59XG5cbmNsYXNzIE5hdkJhciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBuYXZDb250YWluZXJTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjQUIxQjIzXCIsXG4gICAgICBoZWlnaHQ6IFwiNThweFwiXG4gICAgfVxuICAgIGNvbnN0IG5hdkltZ1N0eWxlID0ge1xuICAgICAgd2lkdGg6IFwiNTBweFwiLFxuICAgICAgbWFyZ2luTGVmdDogXCIyMHB4XCIsXG4gICAgICBtYXJnaW5Ub3A6IFwiNnB4XCJcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e25hdkNvbnRhaW5lclN0eWxlfT5cbiAgICAgICAgPGltZyBzcmM9XCIvaW1hZ2VzL2ljb24ucG5nXCIgc3R5bGU9e25hdkltZ1N0eWxlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIENvbnRlbnRCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgbGV0IHN0eWxlcyA9IHtcbiAgICAgIGNvbnRlbnRCb3hTdHlsZToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgd2lkdGg6IFwiNTAwcHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjAgNHB4IDRweCAwIHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMjBweCAwIHJnYmEoMCwgMCwgMCwgMC4xOSlcIixcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICBtYXJnaW46IFwiMHB4IGF1dG9cIixcbiAgICAgICAgbWFyZ2luVG9wOiBcIjIwcHhcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwic2Nyb2xsXCIsXG4gICAgICAgIGhlaWdodDogXCIzNTBweFwiLFxuICAgICAgICBtYXhXaWR0aDogXCI5NSVcIlxuICAgICAgfSxcbiAgICAgIGJveFRpdGxlU3R5bGU6IHtcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBwYWRkaW5nVG9wOiBcIjMwcHhcIixcbiAgICAgICAgbWFyZ2luOiBcIjBweFwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcIjQwMFwiLFxuICAgICAgICBmb250U2l6ZTogXCIzNXB4XCJcbiAgICAgIH0sXG4gICAgICBpbm5lckNvbnRlbnRTdHlsZToge1xuICAgICAgICBwYWRkaW5nVG9wOiBcIjEwcHhcIixcbiAgICAgICAgd2lkdGg6IFwiOTUlXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgbWFyZ2luOiBcIjBweCBhdXRvXCIsXG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCJcbiAgICAgIH0sXG4gICAgICBzdWJ0aXRsZToge1xuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiMzAwXCIsXG4gICAgICAgIG1hcmdpblRvcDogXCIxMHB4XCIsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiBcIjIwcHhcIixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjIwcHhcIlxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuY29udGVudEJveFN0eWxlfT5cbiAgICAgICAgPGgzIHN0eWxlPXtzdHlsZXMuYm94VGl0bGVTdHlsZX0+e3RoaXMucHJvcHMudGl0bGV9PC9oMz5cbiAgICAgICAgPGgzIHN0eWxlPXtzdHlsZXMuc3VidGl0bGV9Pnt0aGlzLnByb3BzLnN1YnRpdGxlfTwvaDM+XG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5pbm5lckNvbnRlbnRTdHlsZX0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNsYXNzIElucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGlucHV0U3R5bGUgPSB7XG4gICAgICBib3JkZXI6IFwiMXB4IHNvbGlkIGJsYWNrXCIsXG4gICAgICBwYWRkaW5nOiBcIjZweFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgZm9udFNpemU6IFwiMTdweFwiLFxuICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgbWFyZ2luOiBcIjIwcHggYXV0b1wiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGhcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZSAhPT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPGlucHV0IG5hbWU9e3RoaXMucHJvcHMubmFtZX0gc3R5bGU9e2lucHV0U3R5bGV9IHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfSBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX0gcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9IC8+XG4gICAgICApXG4gICAgfSByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5jbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBob3ZlcjogZmFsc2UgfVxuICB9XG4gIHRvZ2dsZUhvdmVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBob3ZlcjogIXRoaXMuc3RhdGUuaG92ZXIgfSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGxldCBidXR0b25TdHlsZSA9IHtcbiAgICAgIGZvbnRTaXplOiBcIjMwcHhcIixcbiAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiKDE5MSwgNDksIDU2KVwiLFxuICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgIHdpZHRoOiBcIjEwMHB4XCIsXG4gICAgICBoZWlnaHQ6IFwiNDBweFwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgbWFyZ2luOiBcIjBweCBhdXRvXCIsXG4gICAgICBtYXJnaW5Ub3A6IFwiMzBweFwiXG4gICAgfVxuICAgIGNvbnN0IGxvYWRpbmdTeWxlID0ge1xuICAgICAgd2lkdGg6IFwiMzBweFwiLFxuICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgbWFyZ2luOiBcIjBweCBhdXRvXCJcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUuaG92ZXIpIHtcbiAgICAgIGJ1dHRvblN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0FCMUIyM1wiXG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmhpZGUgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8aW1nIHNyYz1cIi9pbWFnZXMvbG9hZGluZy5naWZcIiBzdHlsZT17bG9hZGluZ1N5bGV9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBvbk1vdXNlTGVhdmU9eygpID0+IHRoaXMudG9nZ2xlSG92ZXIoKX0gb25Nb3VzZUVudGVyPXsoKSA9PiB0aGlzLnRvZ2dsZUhvdmVyKCl9IHN0eWxlPXtidXR0b25TdHlsZX0gb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfT7ihpI8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xuIl19 */\\n/*@ sourceURL=/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js */\"));\n  }\n\n}\n\nclass NavBar extends React.Component {\n  render() {\n    const navContainerStyle = {\n      width: \"100%\",\n      backgroundColor: \"#AB1B23\",\n      height: \"58px\"\n    };\n    const navImgStyle = {\n      width: \"50px\",\n      marginLeft: \"20px\",\n      marginTop: \"6px\"\n    };\n    return __jsx(\"div\", {\n      style: navContainerStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/images/icon.png\",\n      style: navImgStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ContentBox extends React.Component {\n  render() {\n    let styles = {\n      contentBoxStyle: {\n        backgroundColor: \"white\",\n        width: \"500px\",\n        boxShadow: \"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        display: \"block\",\n        margin: \"0px auto\",\n        marginTop: \"20px\",\n        overflow: \"scroll\",\n        height: \"350px\",\n        maxWidth: \"95%\"\n      },\n      boxTitleStyle: {\n        textAlign: \"center\",\n        paddingTop: \"30px\",\n        margin: \"0px\",\n        fontWeight: \"400\",\n        fontSize: \"35px\"\n      },\n      innerContentStyle: {\n        paddingTop: \"10px\",\n        width: \"95%\",\n        display: \"block\",\n        margin: \"0px auto\",\n        position: \"relative\"\n      },\n      subtitle: {\n        textAlign: \"center\",\n        fontWeight: \"300\",\n        marginTop: \"10px\",\n        paddingLeft: \"20px\",\n        paddingRight: \"20px\"\n      }\n    };\n    return __jsx(\"div\", {\n      style: styles.contentBoxStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      style: styles.boxTitleStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, this.props.title), __jsx(\"h3\", {\n      style: styles.subtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.props.subtitle), __jsx(\"div\", {\n      style: styles.innerContentStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, this.props.children));\n  }\n\n}\n\nclass Input extends React.Component {\n  render() {\n    const inputStyle = {\n      border: \"1px solid black\",\n      padding: \"6px\",\n      borderRadius: \"4px\",\n      fontSize: \"17px\",\n      display: \"block\",\n      margin: \"20px auto\",\n      textAlign: \"center\",\n      width: this.props.width\n    };\n\n    if (this.props.hide !== true) {\n      return __jsx(\"input\", {\n        name: this.props.name,\n        style: inputStyle,\n        value: this.props.value,\n        onChange: this.props.onChange,\n        placeholder: this.props.placeholder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      });\n    }\n\n    return null;\n  }\n\n}\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: false\n    };\n  }\n\n  toggleHover() {\n    this.setState({\n      hover: !this.state.hover\n    });\n  }\n\n  render() {\n    let buttonStyle = {\n      fontSize: \"30px\",\n      border: \"none\",\n      backgroundColor: \"rgb(191, 49, 56)\",\n      color: \"white\",\n      width: \"100px\",\n      height: \"40px\",\n      cursor: \"pointer\",\n      outline: \"none\",\n      borderRadius: \"4px\",\n      display: \"block\",\n      margin: \"0px auto\",\n      marginTop: \"30px\"\n    };\n    const loadingSyle = {\n      width: \"30px\",\n      display: \"block\",\n      margin: \"0px auto\"\n    };\n\n    if (this.state.hover) {\n      buttonStyle.backgroundColor = \"#AB1B23\";\n    }\n\n    if (this.props.hide === true) {\n      return null;\n    }\n\n    if (this.props.loading) {\n      return __jsx(\"img\", {\n        src: \"/images/loading.gif\",\n        style: loadingSyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      });\n    } else {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        onMouseLeave: () => this.toggleHover(),\n        onMouseEnter: () => this.toggleHover(),\n        style: buttonStyle,\n        onClick: this.props.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"\\u2192\"));\n    }\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js"],"names":["Index","React","Component","constructor","props","state","displayState","loading","inputValue","newUser","username","handleChange","bind","authenticate","checkUsername","event","setState","target","value","preventDefault","url","fetch","method","then","response","json","data","newState","catch","error","token","authenticated","document","cookie","window","location","setFirstName","firstName","newUserLastName","render","pageStates","title","subtitle","onFormSubmit","inputPlaceholder","emailVerification","newUserFirstName","setLastName","hideForm","stateElements","NavBar","navContainerStyle","width","backgroundColor","height","navImgStyle","marginLeft","marginTop","ContentBox","styles","contentBoxStyle","boxShadow","display","margin","overflow","maxWidth","boxTitleStyle","textAlign","paddingTop","fontWeight","fontSize","innerContentStyle","position","paddingLeft","paddingRight","children","Input","inputStyle","border","padding","borderRadius","hide","name","onChange","placeholder","Button","hover","toggleHover","buttonStyle","color","cursor","outline","loadingSyle","onClick"],"mappings":"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","sourcesContent":["class Index extends React.Component {\n  constructor(props) {\n    super(props);\n    //this.state = { firstName: \"\", lastName: \"\", username: \"\", displayState: \"entry\", password: \"\", loading: false, newUser: false }\n    this.state = { displayState: \"username\", loading: false, inputValue: \"\", newUser: false, username: \"\" }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.authenticate = this.authenticate.bind(this);\n    this.checkUsername = this.checkUsername.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({ inputValue: event.target.value });\n  }\n\n  checkUsername(event) {\n    event.preventDefault();\n    this.setState({ loading: true })\n    const username = this.state.inputValue;\n    const url = \"http://localhost:8080/check_user?username=\" + username;\n    fetch(url, {\n      method: 'POST'\n    }).then(response => response.json())\n      .then(data => {\n        let newUser = false;\n        let newState = data.state;\n        if (data.state === \"new_user\") {\n          newUser = true;\n          newState = \"emailVerification\"\n        }\n        this.setState({ displayState: newState, loading: false, newUser: newUser, username, inputValue: \"\" });\n      }).catch((error) => {\n        this.setState({ displayState: \"error\" });\n      });;\n  }\n\n  authenticate(event) {\n    event.preventDefault();\n    const token = this.state.inputValue;\n    const url = \"http://localhost:8080/authenticate?username=\" + this.state.username + \"&token=\" + token;\n    fetch(url, {\n      method: \"POST\"\n    }).then(response => response.json())\n      .then(data => {\n        if (data.authenticated) {\n          if (this.state.newUser) {\n            this.setState({ displayState: \"newUserFirstName\" });\n          }\n          document.cookie = \"token=\" + data.token + \"; path=/\";\n          window.location = \"/\";\n        } else {\n          this.setState({ displayState: \"invalid_password\" })\n        }\n      })\n  }\n\n  setFirstName() {\n    this.setState({ firstName: this.state.inputValue, inputValue: \"\", displayState: newUserLastName });\n  }\n\n  render() {\n    const pageStates = {\n      username: {\n        title: \"Hey There ðŸ‘‹\",\n        subtitle: \"Welcome to the DMK Portal! Let's start with your Purdue username.\",\n        onFormSubmit: this.checkUsername,\n        inputPlaceholder: \"Purdue Username\"\n      },\n      emailVerification: {\n        title: \"Check your email ðŸ“«\",\n        subtitle: \"Check your Purdue email for authentication (or continue if password saved).\",\n        onFormSubmit: this.authenticate,\n        inputPlaceholder: \"top secret...\"\n      },\n      newUserFirstName: {\n        title: \"You look new ðŸ‘€\",\n        subtitle: \"What's your first name?\",\n        onFormSubmit: this.setFirstName,\n        inputPlaceholder: \"What do you go by?\"\n      },\n      newUserFirstName: {\n        title: \"...and last name ðŸŽ‰\",\n        subtitle: \"No middle name please.\",\n        onFormSubmit: this.setLastName,\n        inputPlaceholder: \"Who are your people?\"\n      },\n      error: {\n        title: \"Well, that's embarrassing ðŸ™ˆ\",\n        subtitle: \"There's an error on our end. Try again later!\",\n        onFormSubmit: this.authenticate,\n        inputPlaceholder: \"top secret...\",\n        hideForm: true\n      }\n    }\n    const stateElements = pageStates[this.state.displayState];\n    return (\n      <div>\n        <NavBar />\n        {/*this.displayBox()*/}\n        <ContentBox title={stateElements.title} subtitle={stateElements.subtitle}>\n          <form onSubmit={stateElements.onFormSubmit}>\n            <Input onChange={this.handleChange} value={this.state.inputValue} placeholder={stateElements.inputPlaceholder} hide={stateElements.hideForm} />\n            <Button loading={this.state.loading} hide={stateElements.hideForm} />\n          </form>\n        </ContentBox>\n        {/*Global CSS goes in here*/}\n        <style jsx global>\n          {`\n            body {\n              margin: 0px;\n              background-color: #F7F7FB;\n              font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;\n\n              -webkit-font-smoothing: antialiased;\n            }\n            \n          `}\n        </style>\n      </div >\n    );\n  }\n}\n\nclass NavBar extends React.Component {\n  render() {\n    const navContainerStyle = {\n      width: \"100%\",\n      backgroundColor: \"#AB1B23\",\n      height: \"58px\"\n    }\n    const navImgStyle = {\n      width: \"50px\",\n      marginLeft: \"20px\",\n      marginTop: \"6px\"\n    }\n    return (\n      <div style={navContainerStyle}>\n        <img src=\"/images/icon.png\" style={navImgStyle} />\n      </div>\n    )\n  }\n}\n\nclass ContentBox extends React.Component {\n  render() {\n    let styles = {\n      contentBoxStyle: {\n        backgroundColor: \"white\",\n        width: \"500px\",\n        boxShadow: \"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        display: \"block\",\n        margin: \"0px auto\",\n        marginTop: \"20px\",\n        overflow: \"scroll\",\n        height: \"350px\",\n        maxWidth: \"95%\"\n      },\n      boxTitleStyle: {\n        textAlign: \"center\",\n        paddingTop: \"30px\",\n        margin: \"0px\",\n        fontWeight: \"400\",\n        fontSize: \"35px\"\n      },\n      innerContentStyle: {\n        paddingTop: \"10px\",\n        width: \"95%\",\n        display: \"block\",\n        margin: \"0px auto\",\n        position: \"relative\"\n      },\n      subtitle: {\n        textAlign: \"center\",\n        fontWeight: \"300\",\n        marginTop: \"10px\",\n        paddingLeft: \"20px\",\n        paddingRight: \"20px\"\n      }\n    }\n\n    return (\n      <div style={styles.contentBoxStyle}>\n        <h3 style={styles.boxTitleStyle}>{this.props.title}</h3>\n        <h3 style={styles.subtitle}>{this.props.subtitle}</h3>\n        <div style={styles.innerContentStyle}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    const inputStyle = {\n      border: \"1px solid black\",\n      padding: \"6px\",\n      borderRadius: \"4px\",\n      fontSize: \"17px\",\n      display: \"block\",\n      margin: \"20px auto\",\n      textAlign: \"center\",\n      width: this.props.width\n    }\n    if (this.props.hide !== true) {\n      return (\n        <input name={this.props.name} style={inputStyle} value={this.props.value} onChange={this.props.onChange} placeholder={this.props.placeholder} />\n      )\n    } return null;\n  }\n}\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hover: false }\n  }\n  toggleHover() {\n    this.setState({ hover: !this.state.hover });\n  }\n  render() {\n    let buttonStyle = {\n      fontSize: \"30px\",\n      border: \"none\",\n      backgroundColor: \"rgb(191, 49, 56)\",\n      color: \"white\",\n      width: \"100px\",\n      height: \"40px\",\n      cursor: \"pointer\",\n      outline: \"none\",\n      borderRadius: \"4px\",\n      display: \"block\",\n      margin: \"0px auto\",\n      marginTop: \"30px\"\n    }\n    const loadingSyle = {\n      width: \"30px\",\n      display: \"block\",\n      margin: \"0px auto\"\n    }\n    if (this.state.hover) {\n      buttonStyle.backgroundColor = \"#AB1B23\"\n    }\n    if (this.props.hide === true) {\n      return null;\n    }\n    if (this.props.loading) {\n      return (\n        <img src=\"/images/loading.gif\" style={loadingSyle} />\n      )\n    } else {\n      return (\n        <div>\n          <button onMouseLeave={() => this.toggleHover()} onMouseEnter={() => this.toggleHover()} style={buttonStyle} onClick={this.props.onClick}>â†’</button>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}