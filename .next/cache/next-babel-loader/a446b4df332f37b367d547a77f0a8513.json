{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Provider as AlertProvider, useAlert } from 'react-alert';\n\nvar Index =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      displayState: \"entry\",\n      password: \"\",\n      loading: false,\n      newUser: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.authenticate = _this.authenticate.bind(_assertThisInitialized(_this));\n    _this.checkUsername = _this.checkUsername.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var inputName = event.target.name;\n      this.setState(_defineProperty({}, inputName, event.target.value));\n    }\n  }, {\n    key: \"authenticate\",\n    value: function authenticate(event) {\n      event.preventDefault();\n      var url = \"http://localhost:8080\";\n      fetch(url + \"/authenticate?username=\" + this.state.username + \"&token=\" + this.state.password, {\n        method: \"POST\"\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        if (data[\"authenticated\"]) {\n          document.cookie = \"token=\" + data.token + \"; path=/\";\n          window.location = \"/\";\n        } else {\n          //this.setState({ displayState: \"error\" })\n          var alert = useAlert();\n          alert.show('Oh look, an alert!');\n        }\n      });\n    }\n  }, {\n    key: \"checkUsername\",\n    value: function checkUsername(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      console.log(this.state.username);\n      this.setState({\n        loading: true\n      });\n      var url = \"http://localhost:8080/check_user?username=\" + this.state.username;\n      fetch(url, {\n        method: 'POST'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var newUser = false;\n        var newState = data.state;\n\n        if (data.state === \"new_user\") {\n          newUser = true;\n          newState = \"authenticate\";\n        }\n\n        _this2.setState({\n          displayState: newState,\n          loading: false,\n          newUser: newUser\n        });\n      })[\"catch\"](function (error) {\n        _this2.setState({\n          displayState: \"error\"\n        });\n      });\n      ;\n    }\n  }, {\n    key: \"validateFields\",\n    value: function validateFields() {\n      return this.state.firstName !== \"\" && this.state.lastName !== \"\" && this.state.username !== \"\";\n    }\n  }, {\n    key: \"displayBox\",\n    value: function displayBox() {\n      if (this.state.displayState === \"entry\") {\n        return __jsx(ContentBox, {\n          title: \"Hey There ðŸ‘‹\",\n          subtitle: \"Welcome to the DMK Portal! Let's start with your Purdue username.\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, __jsx(\"form\", {\n          onSubmit: this.checkUsername,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, __jsx(Input, {\n          name: \"username\",\n          onChange: this.handleChange,\n          placeholder: \"Purdue Username\",\n          value: this.state.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }), __jsx(Button, {\n          loading: this.state.loading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        })));\n      } else if (this.state.displayState === \"authenticate\") {\n        return __jsx(ContentBox, {\n          title: \"Check your email ðŸ“«\",\n          subtitle: \"Check your Purdue email for authentication (or continue if password saved).\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, __jsx(\"form\", {\n          onSubmit: this.authenticate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, __jsx(Input, {\n          name: \"password\",\n          onChange: this.handleChange,\n          value: this.state.password,\n          placeholder: \"top secret...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }), __jsx(Button, {\n          loading: this.state.loading,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        })));\n      } else {\n        console.log(this.state.displayState);\n        return __jsx(ContentBox, {\n          title: \"Well, that's embarrassing ðŸ™ˆ\",\n          subtitle: \"There's an error on our end. Try again later!\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var alertOptions = {\n        position: 'bottom center',\n        timeout: 5000,\n        offset: '30px',\n        transition: 'scale'\n      };\n      return __jsx(AlertProvider, _extends({}, alertOptions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), __jsx(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), this.displayBox(), __jsx(_JSXStyle, {\n        id: \"1555840043\",\n        __self: this\n      }, \"body{margin:0px;background-color:#F7F7FB;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWhpbC9Ecm9wYm94L1BvcnRmb2xpby9kbWstcG9ydGFsL3BhZ2VzL2xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFHVyxBQUcwQixXQUNjLHlCQUMyRyxvSUFFakcsbUNBQ3JDIiwiZmlsZSI6Ii9Vc2Vycy9zYWhpbC9Ecm9wYm94L1BvcnRmb2xpby9kbWstcG9ydGFsL3BhZ2VzL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXIgYXMgQWxlcnRQcm92aWRlciwgdXNlQWxlcnQgfSBmcm9tICdyZWFjdC1hbGVydCdcblxuY2xhc3MgSW5kZXggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBmaXJzdE5hbWU6IFwiXCIsIGxhc3ROYW1lOiBcIlwiLCB1c2VybmFtZTogXCJcIiwgZGlzcGxheVN0YXRlOiBcImVudHJ5XCIsIHBhc3N3b3JkOiBcIlwiLCBsb2FkaW5nOiBmYWxzZSwgbmV3VXNlcjogZmFsc2UgfVxuXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXV0aGVudGljYXRlID0gdGhpcy5hdXRoZW50aWNhdGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNoZWNrVXNlcm5hbWUgPSB0aGlzLmNoZWNrVXNlcm5hbWUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGhhbmRsZUNoYW5nZShldmVudCkge1xuICAgIGNvbnN0IGlucHV0TmFtZSA9IGV2ZW50LnRhcmdldC5uYW1lO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBbaW5wdXROYW1lXTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgYXV0aGVudGljYXRlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MFwiO1xuICAgIGZldGNoKHVybCArIFwiL2F1dGhlbnRpY2F0ZT91c2VybmFtZT1cIiArIHRoaXMuc3RhdGUudXNlcm5hbWUgKyBcIiZ0b2tlbj1cIiArIHRoaXMuc3RhdGUucGFzc3dvcmQsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCJcbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YVtcImF1dGhlbnRpY2F0ZWRcIl0pIHtcbiAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBcInRva2VuPVwiICsgZGF0YS50b2tlbiArIFwiOyBwYXRoPS9cIjtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBcIi9cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL3RoaXMuc2V0U3RhdGUoeyBkaXNwbGF5U3RhdGU6IFwiZXJyb3JcIiB9KVxuICAgICAgICAgIGNvbnN0IGFsZXJ0ID0gdXNlQWxlcnQoKVxuICAgICAgICAgIGFsZXJ0LnNob3coJ09oIGxvb2ssIGFuIGFsZXJ0IScpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gIH1cblxuICBjaGVja1VzZXJuYW1lKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnVzZXJuYW1lKVxuICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nOiB0cnVlIH0pXG4gICAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjgwODAvY2hlY2tfdXNlcj91c2VybmFtZT1cIiArIHRoaXMuc3RhdGUudXNlcm5hbWU7XG4gICAgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGxldCBuZXdVc2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IGRhdGEuc3RhdGU7XG4gICAgICAgIGlmIChkYXRhLnN0YXRlID09PSBcIm5ld191c2VyXCIpIHtcbiAgICAgICAgICBuZXdVc2VyID0gdHJ1ZTtcbiAgICAgICAgICBuZXdTdGF0ZSA9IFwiYXV0aGVudGljYXRlXCJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGlzcGxheVN0YXRlOiBuZXdTdGF0ZSwgbG9hZGluZzogZmFsc2UsIG5ld1VzZXI6IG5ld1VzZXIgfSk7XG4gICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRpc3BsYXlTdGF0ZTogXCJlcnJvclwiIH0pO1xuICAgICAgfSk7O1xuICB9XG5cbiAgdmFsaWRhdGVGaWVsZHMoKSB7XG4gICAgcmV0dXJuICh0aGlzLnN0YXRlLmZpcnN0TmFtZSAhPT0gXCJcIiAmJiB0aGlzLnN0YXRlLmxhc3ROYW1lICE9PSBcIlwiICYmIHRoaXMuc3RhdGUudXNlcm5hbWUgIT09IFwiXCIpO1xuICB9XG5cbiAgZGlzcGxheUJveCgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5U3RhdGUgPT09IFwiZW50cnlcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbnRlbnRCb3ggdGl0bGU9e1wiSGV5IFRoZXJlIPCfkYtcIn0gc3VidGl0bGU9e1wiV2VsY29tZSB0byB0aGUgRE1LIFBvcnRhbCEgTGV0J3Mgc3RhcnQgd2l0aCB5b3VyIFB1cmR1ZSB1c2VybmFtZS5cIn0+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuY2hlY2tVc2VybmFtZX0+XG4gICAgICAgICAgICA8SW5wdXQgbmFtZT1cInVzZXJuYW1lXCIgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfSBwbGFjZWhvbGRlcj1cIlB1cmR1ZSBVc2VybmFtZVwiIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSAvPlxuICAgICAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmxvYWRpbmd9IC8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRlbnRCb3g+XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5kaXNwbGF5U3RhdGUgPT09IFwiYXV0aGVudGljYXRlXCIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxDb250ZW50Qm94IHRpdGxlPXtcIkNoZWNrIHlvdXIgZW1haWwg8J+Tq1wifSBzdWJ0aXRsZT17XCJDaGVjayB5b3VyIFB1cmR1ZSBlbWFpbCBmb3IgYXV0aGVudGljYXRpb24gKG9yIGNvbnRpbnVlIGlmIHBhc3N3b3JkIHNhdmVkKS5cIn0+XG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuYXV0aGVudGljYXRlfT5cbiAgICAgICAgICAgIDxJbnB1dCBuYW1lPVwicGFzc3dvcmRcIiBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSBwbGFjZWhvbGRlcj1cInRvcCBzZWNyZXQuLi5cIiAvPlxuICAgICAgICAgICAgPEJ1dHRvbiBsb2FkaW5nPXt0aGlzLnN0YXRlLmxvYWRpbmd9IC8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L0NvbnRlbnRCb3g+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLmRpc3BsYXlTdGF0ZSk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8Q29udGVudEJveCB0aXRsZT17XCJXZWxsLCB0aGF0J3MgZW1iYXJyYXNzaW5nIPCfmYhcIn0gc3VidGl0bGU9e1wiVGhlcmUncyBhbiBlcnJvciBvbiBvdXIgZW5kLiBUcnkgYWdhaW4gbGF0ZXIhXCJ9PlxuICAgICAgICA8L0NvbnRlbnRCb3g+XG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGFsZXJ0T3B0aW9ucyA9IHtcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGNlbnRlcicsXG4gICAgICB0aW1lb3V0OiA1MDAwLFxuICAgICAgb2Zmc2V0OiAnMzBweCcsXG4gICAgICB0cmFuc2l0aW9uOiAnc2NhbGUnXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8QWxlcnRQcm92aWRlciB7Li4uYWxlcnRPcHRpb25zfT5cbiAgICAgICAgPE5hdkJhciAvPlxuICAgICAgICB7dGhpcy5kaXNwbGF5Qm94KCl9XG4gICAgICAgIHsvKkdsb2JhbCBDU1MgZ29lcyBpbiBoZXJlKi99XG4gICAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICBib2R5IHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwcHg7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGN0Y3RkI7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxSb2JvdG8sT3h5Z2VuLFVidW50dSxDYW50YXJlbGwsRmlyYSBTYW5zLERyb2lkIFNhbnMsSGVsdmV0aWNhIE5ldWUsc2Fucy1zZXJpZjtcblxuICAgICAgICAgICAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L0FsZXJ0UHJvdmlkZXI+XG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBOYXZCYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbmF2Q29udGFpbmVyU3R5bGUgPSB7XG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI0FCMUIyM1wiLFxuICAgICAgaGVpZ2h0OiBcIjU4cHhcIlxuICAgIH1cbiAgICBjb25zdCBuYXZJbWdTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiBcIjUwcHhcIixcbiAgICAgIG1hcmdpbkxlZnQ6IFwiMjBweFwiLFxuICAgICAgbWFyZ2luVG9wOiBcIjZweFwiXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXtuYXZDb250YWluZXJTdHlsZX0+XG4gICAgICAgIDxpbWcgc3JjPVwiL2ltYWdlcy9pY29uLnBuZ1wiIHN0eWxlPXtuYXZJbWdTdHlsZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jbGFzcyBDb250ZW50Qm94IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGxldCBzdHlsZXMgPSB7XG4gICAgICBjb250ZW50Qm94U3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHdpZHRoOiBcIjUwMHB4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDRweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMiksIDAgNnB4IDIwcHggMCByZ2JhKDAsIDAsIDAsIDAuMTkpXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgbWFyZ2luOiBcIjBweCBhdXRvXCIsXG4gICAgICAgIG1hcmdpblRvcDogXCIyMHB4XCIsXG4gICAgICAgIG92ZXJmbG93OiBcInNjcm9sbFwiLFxuICAgICAgICBoZWlnaHQ6IFwiMzUwcHhcIixcbiAgICAgICAgbWF4V2lkdGg6IFwiOTUlXCJcbiAgICAgIH0sXG4gICAgICBib3hUaXRsZVN0eWxlOiB7XG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgcGFkZGluZ1RvcDogXCIzMHB4XCIsXG4gICAgICAgIG1hcmdpbjogXCIwcHhcIixcbiAgICAgICAgZm9udFdlaWdodDogXCI0MDBcIixcbiAgICAgICAgZm9udFNpemU6IFwiMzVweFwiXG4gICAgICB9LFxuICAgICAgaW5uZXJDb250ZW50U3R5bGU6IHtcbiAgICAgICAgcGFkZGluZ1RvcDogXCIxMHB4XCIsXG4gICAgICAgIHdpZHRoOiBcIjk1JVwiLFxuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIG1hcmdpbjogXCIwcHggYXV0b1wiLFxuICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICB9LFxuICAgICAgc3VidGl0bGU6IHtcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcIjMwMFwiLFxuICAgICAgICBtYXJnaW5Ub3A6IFwiMTBweFwiLFxuICAgICAgICBwYWRkaW5nTGVmdDogXCIyMHB4XCIsXG4gICAgICAgIHBhZGRpbmdSaWdodDogXCIyMHB4XCJcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmNvbnRlbnRCb3hTdHlsZX0+XG4gICAgICAgIDxoMyBzdHlsZT17c3R5bGVzLmJveFRpdGxlU3R5bGV9Pnt0aGlzLnByb3BzLnRpdGxlfTwvaDM+XG4gICAgICAgIDxoMyBzdHlsZT17c3R5bGVzLnN1YnRpdGxlfT57dGhpcy5wcm9wcy5zdWJ0aXRsZX08L2gzPlxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuaW5uZXJDb250ZW50U3R5bGV9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jbGFzcyBJbnB1dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBpbnB1dFN0eWxlID0ge1xuICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCBibGFja1wiLFxuICAgICAgcGFkZGluZzogXCI2cHhcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgIGZvbnRTaXplOiBcIjE3cHhcIixcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgIG1hcmdpbjogXCIyMHB4IGF1dG9cIixcbiAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXQgbmFtZT17dGhpcy5wcm9wcy5uYW1lfSBzdHlsZT17aW5wdXRTdHlsZX0gdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9IG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfSBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn0gLz5cbiAgICApXG4gIH1cbn1cblxuY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgaG92ZXI6IGZhbHNlIH1cbiAgfVxuICB0b2dnbGVIb3ZlcigpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaG92ZXI6ICF0aGlzLnN0YXRlLmhvdmVyIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBsZXQgYnV0dG9uU3R5bGUgPSB7XG4gICAgICBmb250U2l6ZTogXCIzMHB4XCIsXG4gICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYigxOTEsIDQ5LCA1NilcIixcbiAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICB3aWR0aDogXCIxMDBweFwiLFxuICAgICAgaGVpZ2h0OiBcIjQwcHhcIixcbiAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgIG1hcmdpbjogXCIwcHggYXV0b1wiLFxuICAgICAgbWFyZ2luVG9wOiBcIjMwcHhcIlxuICAgIH1cbiAgICBjb25zdCBsb2FkaW5nU3lsZSA9IHtcbiAgICAgIHdpZHRoOiBcIjMwcHhcIixcbiAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgIG1hcmdpbjogXCIwcHggYXV0b1wiXG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLmhvdmVyKSB7XG4gICAgICBidXR0b25TdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNBQjFCMjNcIlxuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8aW1nIHNyYz1cIi9pbWFnZXMvbG9hZGluZy5naWZcIiBzdHlsZT17bG9hZGluZ1N5bGV9IC8+XG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGJ1dHRvbiBvbk1vdXNlTGVhdmU9eygpID0+IHRoaXMudG9nZ2xlSG92ZXIoKX0gb25Nb3VzZUVudGVyPXsoKSA9PiB0aGlzLnRvZ2dsZUhvdmVyKCl9IHN0eWxlPXtidXR0b25TdHlsZX0gb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfT7ihpI8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4O1xuIl19 */\\n/*@ sourceURL=/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js */\"));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nvar NavBar =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(NavBar, _React$Component2);\n\n  function NavBar() {\n    _classCallCheck(this, NavBar);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NavBar).apply(this, arguments));\n  }\n\n  _createClass(NavBar, [{\n    key: \"render\",\n    value: function render() {\n      var navContainerStyle = {\n        width: \"100%\",\n        backgroundColor: \"#AB1B23\",\n        height: \"58px\"\n      };\n      var navImgStyle = {\n        width: \"50px\",\n        marginLeft: \"20px\",\n        marginTop: \"6px\"\n      };\n      return __jsx(\"div\", {\n        style: navContainerStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"/images/icon.png\",\n        style: navImgStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return NavBar;\n}(React.Component);\n\nvar ContentBox =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(ContentBox, _React$Component3);\n\n  function ContentBox() {\n    _classCallCheck(this, ContentBox);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ContentBox).apply(this, arguments));\n  }\n\n  _createClass(ContentBox, [{\n    key: \"render\",\n    value: function render() {\n      var styles = {\n        contentBoxStyle: {\n          backgroundColor: \"white\",\n          width: \"500px\",\n          boxShadow: \"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n          display: \"block\",\n          margin: \"0px auto\",\n          marginTop: \"20px\",\n          overflow: \"scroll\",\n          height: \"350px\",\n          maxWidth: \"95%\"\n        },\n        boxTitleStyle: {\n          textAlign: \"center\",\n          paddingTop: \"30px\",\n          margin: \"0px\",\n          fontWeight: \"400\",\n          fontSize: \"35px\"\n        },\n        innerContentStyle: {\n          paddingTop: \"10px\",\n          width: \"95%\",\n          display: \"block\",\n          margin: \"0px auto\",\n          position: \"relative\"\n        },\n        subtitle: {\n          textAlign: \"center\",\n          fontWeight: \"300\",\n          marginTop: \"10px\",\n          paddingLeft: \"20px\",\n          paddingRight: \"20px\"\n        }\n      };\n      return __jsx(\"div\", {\n        style: styles.contentBoxStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, __jsx(\"h3\", {\n        style: styles.boxTitleStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, this.props.title), __jsx(\"h3\", {\n        style: styles.subtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, this.props.subtitle), __jsx(\"div\", {\n        style: styles.innerContentStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, this.props.children));\n    }\n  }]);\n\n  return ContentBox;\n}(React.Component);\n\nvar Input =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(Input, _React$Component4);\n\n  function Input() {\n    _classCallCheck(this, Input);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Input).apply(this, arguments));\n  }\n\n  _createClass(Input, [{\n    key: \"render\",\n    value: function render() {\n      var inputStyle = {\n        border: \"1px solid black\",\n        padding: \"6px\",\n        borderRadius: \"4px\",\n        fontSize: \"17px\",\n        display: \"block\",\n        margin: \"20px auto\",\n        textAlign: \"center\",\n        width: this.props.width\n      };\n      return __jsx(\"input\", {\n        name: this.props.name,\n        style: inputStyle,\n        value: this.props.value,\n        onChange: this.props.onChange,\n        placeholder: this.props.placeholder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Input;\n}(React.Component);\n\nvar Button =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(Button, _React$Component5);\n\n  function Button(props) {\n    var _this3;\n\n    _classCallCheck(this, Button);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Button).call(this, props));\n    _this3.state = {\n      hover: false\n    };\n    return _this3;\n  }\n\n  _createClass(Button, [{\n    key: \"toggleHover\",\n    value: function toggleHover() {\n      this.setState({\n        hover: !this.state.hover\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var buttonStyle = {\n        fontSize: \"30px\",\n        border: \"none\",\n        backgroundColor: \"rgb(191, 49, 56)\",\n        color: \"white\",\n        width: \"100px\",\n        height: \"40px\",\n        cursor: \"pointer\",\n        outline: \"none\",\n        borderRadius: \"4px\",\n        display: \"block\",\n        margin: \"0px auto\",\n        marginTop: \"30px\"\n      };\n      var loadingSyle = {\n        width: \"30px\",\n        display: \"block\",\n        margin: \"0px auto\"\n      };\n\n      if (this.state.hover) {\n        buttonStyle.backgroundColor = \"#AB1B23\";\n      }\n\n      if (this.props.loading) {\n        return __jsx(\"img\", {\n          src: \"/images/loading.gif\",\n          style: loadingSyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        });\n      } else {\n        return __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, __jsx(\"button\", {\n          onMouseLeave: function onMouseLeave() {\n            return _this4.toggleHover();\n          },\n          onMouseEnter: function onMouseEnter() {\n            return _this4.toggleHover();\n          },\n          style: buttonStyle,\n          onClick: this.props.onClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, \"\\u2192\"));\n      }\n    }\n  }]);\n\n  return Button;\n}(React.Component);\n\nexport default Index;","map":{"version":3,"sources":["/Users/sahil/Dropbox/Portfolio/dmk-portal/pages/login.js"],"names":["Provider","AlertProvider","useAlert","Index","props","state","firstName","lastName","username","displayState","password","loading","newUser","handleChange","bind","authenticate","checkUsername","event","inputName","target","name","setState","value","preventDefault","url","fetch","method","then","response","json","data","document","cookie","token","window","location","alert","show","console","log","newState","error","alertOptions","position","timeout","offset","transition","displayBox","React","Component","NavBar","navContainerStyle","width","backgroundColor","height","navImgStyle","marginLeft","marginTop","ContentBox","styles","contentBoxStyle","boxShadow","display","margin","overflow","maxWidth","boxTitleStyle","textAlign","paddingTop","fontWeight","fontSize","innerContentStyle","subtitle","paddingLeft","paddingRight","title","children","Input","inputStyle","border","padding","borderRadius","onChange","placeholder","Button","hover","buttonStyle","color","cursor","outline","loadingSyle","toggleHover","onClick"],"mappings":"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","sourcesContent":["import { Provider as AlertProvider, useAlert } from 'react-alert'\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { firstName: \"\", lastName: \"\", username: \"\", displayState: \"entry\", password: \"\", loading: false, newUser: false }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.authenticate = this.authenticate.bind(this);\n    this.checkUsername = this.checkUsername.bind(this);\n  }\n\n  handleChange(event) {\n    const inputName = event.target.name;\n    this.setState({ [inputName]: event.target.value });\n  }\n\n  authenticate(event) {\n    event.preventDefault();\n    const url = \"http://localhost:8080\";\n    fetch(url + \"/authenticate?username=\" + this.state.username + \"&token=\" + this.state.password, {\n      method: \"POST\"\n    }).then(response => response.json())\n      .then(data => {\n        if (data[\"authenticated\"]) {\n          document.cookie = \"token=\" + data.token + \"; path=/\";\n          window.location = \"/\";\n        } else {\n          //this.setState({ displayState: \"error\" })\n          const alert = useAlert()\n          alert.show('Oh look, an alert!')\n        }\n      })\n  }\n\n  checkUsername(event) {\n    event.preventDefault();\n    console.log(this.state.username)\n    this.setState({ loading: true })\n    const url = \"http://localhost:8080/check_user?username=\" + this.state.username;\n    fetch(url, {\n      method: 'POST'\n    }).then(response => response.json())\n      .then(data => {\n        let newUser = false;\n        let newState = data.state;\n        if (data.state === \"new_user\") {\n          newUser = true;\n          newState = \"authenticate\"\n        }\n        this.setState({ displayState: newState, loading: false, newUser: newUser });\n      }).catch((error) => {\n        this.setState({ displayState: \"error\" });\n      });;\n  }\n\n  validateFields() {\n    return (this.state.firstName !== \"\" && this.state.lastName !== \"\" && this.state.username !== \"\");\n  }\n\n  displayBox() {\n    if (this.state.displayState === \"entry\") {\n      return (\n        <ContentBox title={\"Hey There ðŸ‘‹\"} subtitle={\"Welcome to the DMK Portal! Let's start with your Purdue username.\"}>\n          <form onSubmit={this.checkUsername}>\n            <Input name=\"username\" onChange={this.handleChange} placeholder=\"Purdue Username\" value={this.state.username} />\n            <Button loading={this.state.loading} />\n          </form>\n        </ContentBox>\n      );\n    } else if (this.state.displayState === \"authenticate\") {\n      return (\n        <ContentBox title={\"Check your email ðŸ“«\"} subtitle={\"Check your Purdue email for authentication (or continue if password saved).\"}>\n          <form onSubmit={this.authenticate}>\n            <Input name=\"password\" onChange={this.handleChange} value={this.state.password} placeholder=\"top secret...\" />\n            <Button loading={this.state.loading} />\n          </form>\n        </ContentBox>\n      );\n    } else {\n      console.log(this.state.displayState);\n      return (\n        <ContentBox title={\"Well, that's embarrassing ðŸ™ˆ\"} subtitle={\"There's an error on our end. Try again later!\"}>\n        </ContentBox>\n      )\n    }\n  }\n\n  render() {\n    const alertOptions = {\n      position: 'bottom center',\n      timeout: 5000,\n      offset: '30px',\n      transition: 'scale'\n    }\n    return (\n      <AlertProvider {...alertOptions}>\n        <NavBar />\n        {this.displayBox()}\n        {/*Global CSS goes in here*/}\n        <style jsx global>\n          {`\n            body {\n              margin: 0px;\n              background-color: #F7F7FB;\n              font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;\n\n              -webkit-font-smoothing: antialiased;\n            }\n            \n          `}\n        </style>\n      </AlertProvider>\n    );\n  }\n}\n\nclass NavBar extends React.Component {\n  render() {\n    const navContainerStyle = {\n      width: \"100%\",\n      backgroundColor: \"#AB1B23\",\n      height: \"58px\"\n    }\n    const navImgStyle = {\n      width: \"50px\",\n      marginLeft: \"20px\",\n      marginTop: \"6px\"\n    }\n    return (\n      <div style={navContainerStyle}>\n        <img src=\"/images/icon.png\" style={navImgStyle} />\n      </div>\n    )\n  }\n}\n\nclass ContentBox extends React.Component {\n  render() {\n    let styles = {\n      contentBoxStyle: {\n        backgroundColor: \"white\",\n        width: \"500px\",\n        boxShadow: \"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        display: \"block\",\n        margin: \"0px auto\",\n        marginTop: \"20px\",\n        overflow: \"scroll\",\n        height: \"350px\",\n        maxWidth: \"95%\"\n      },\n      boxTitleStyle: {\n        textAlign: \"center\",\n        paddingTop: \"30px\",\n        margin: \"0px\",\n        fontWeight: \"400\",\n        fontSize: \"35px\"\n      },\n      innerContentStyle: {\n        paddingTop: \"10px\",\n        width: \"95%\",\n        display: \"block\",\n        margin: \"0px auto\",\n        position: \"relative\"\n      },\n      subtitle: {\n        textAlign: \"center\",\n        fontWeight: \"300\",\n        marginTop: \"10px\",\n        paddingLeft: \"20px\",\n        paddingRight: \"20px\"\n      }\n    }\n\n    return (\n      <div style={styles.contentBoxStyle}>\n        <h3 style={styles.boxTitleStyle}>{this.props.title}</h3>\n        <h3 style={styles.subtitle}>{this.props.subtitle}</h3>\n        <div style={styles.innerContentStyle}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Input extends React.Component {\n  render() {\n    const inputStyle = {\n      border: \"1px solid black\",\n      padding: \"6px\",\n      borderRadius: \"4px\",\n      fontSize: \"17px\",\n      display: \"block\",\n      margin: \"20px auto\",\n      textAlign: \"center\",\n      width: this.props.width\n    }\n    return (\n      <input name={this.props.name} style={inputStyle} value={this.props.value} onChange={this.props.onChange} placeholder={this.props.placeholder} />\n    )\n  }\n}\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hover: false }\n  }\n  toggleHover() {\n    this.setState({ hover: !this.state.hover });\n  }\n  render() {\n    let buttonStyle = {\n      fontSize: \"30px\",\n      border: \"none\",\n      backgroundColor: \"rgb(191, 49, 56)\",\n      color: \"white\",\n      width: \"100px\",\n      height: \"40px\",\n      cursor: \"pointer\",\n      outline: \"none\",\n      borderRadius: \"4px\",\n      display: \"block\",\n      margin: \"0px auto\",\n      marginTop: \"30px\"\n    }\n    const loadingSyle = {\n      width: \"30px\",\n      display: \"block\",\n      margin: \"0px auto\"\n    }\n    if (this.state.hover) {\n      buttonStyle.backgroundColor = \"#AB1B23\"\n    }\n    if (this.props.loading) {\n      return (\n        <img src=\"/images/loading.gif\" style={loadingSyle} />\n      )\n    } else {\n      return (\n        <div>\n          <button onMouseLeave={() => this.toggleHover()} onMouseEnter={() => this.toggleHover()} style={buttonStyle} onClick={this.props.onClick}>â†’</button>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}