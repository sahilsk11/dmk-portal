{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{O2ls:function(t,e,a){\"use strict\";a.r(e);var n=a(\"9Jkg\"),i=a.n(n),s=a(\"vYYK\"),o=a(\"0iUn\"),r=a(\"sLSF\"),l=a(\"MI3g\"),h=a(\"a7VT\"),u=a(\"AT/M\"),p=a(\"Tit0\"),c=a(\"MX0m\"),d=a.n(c),m=a(\"q1tI\"),b=a.n(m),g=b.a.createElement,f=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={firstName:\"S\",lastName:\"a\",username:\"h\",displayState:\"form\",password:\"\"},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.validateToken=a.validateToken.bind(Object(u.a)(a)),a}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"handleChange\",value:function(t){var e=t.target.name;this.setState(Object(s.a)({},e,t.target.value))}},{key:\"handleSubmit\",value:function(t){var e=this;if(t.preventDefault(),this.validateFields()){fetch(\"http://localhost:8080/add?first=\"+this.state.firstName+\"&last=\"+this.state.lastName+\"&username=\"+this.state.username,{method:\"POST\",body:i()(this.state)}).then((function(t){return t.json()})).then((function(t){t.sent?e.setState({displayState:\"loading\"}):e.setState({displayState:\"error\"})}))}else this.setState({displayState:\"invalid\"});console.log(this.state)}},{key:\"validateToken\",value:function(){var t=this;fetch(\"http://localhost:8080/authenticate?username=\"+this.state.username+\"&token=\"+this.state.password,{method:\"POST\"}).then((function(t){return t.json()})).then((function(e){e.authenticated?(document.cookie=\"user=\"+t.state.username+\"; path=/\",document.cookie=\"name=\"+t.state.firstName+\"; path=/\",window.location=\"/\"):t.setState({displayState:\"error\"})}))}},{key:\"validateFields\",value:function(){return\"\"!==this.state.firstName&&\"\"!==this.state.lastName&&\"\"!==this.state.username}},{key:\"displayBox\",value:function(){return\"form\"===this.state.displayState?g(v,{title:\"Hey There \\ud83d\\udc4b\",subtitle:\"Welcome to the new DMK Portal!\"},g(x,{firstName:this.state.firstName,lastName:this.state.lastName,username:this.state.username,handleChange:this.handleChange,handleSubmit:this.handleSubmit})):\"loading\"===this.state.displayState?g(v,{title:\"Check your email \\ud83d\\udceb\",subtitle:\"Check your Purdue email for authentication. If you didn't get anything, refresh and retype your username.\"},g(k,{placeholder:\"top secret...\"}),g(S,{onClick:this.validateToken})):\"invalid\"===this.state.displayState?g(v,{title:\"Uh Oh \\ud83d\\ude15\",subtitle:\"Looks like you are missing some fields. Try again.\"},g(x,{firstName:this.state.firstName,lastName:this.state.lastName,username:this.state.username,handleChange:this.handleChange,handleSubmit:this.handleSubmit})):g(v,{title:\"Well, that's embarrassing \\ud83d\\ude48\",subtitle:\"There's an error on our end. Try again later!\"})}},{key:\"render\",value:function(){return g(\"div\",{className:\"jsx-1555840043\"},g(y,null),this.displayBox(),g(d.a,{id:\"1555840043\"},[\"body{margin:0px;background-color:#F7F7FB;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;}\"]))}}]),e}(b.a.Component),y=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"render\",value:function(){return g(\"div\",{style:{width:\"100%\",backgroundColor:\"#AB1B23\",height:\"58px\"}},g(\"img\",{src:\"/images/icon.png\",style:{width:\"50px\",marginLeft:\"20px\",marginTop:\"6px\"}}))}}]),e}(b.a.Component),v=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"render\",value:function(){var t={contentBoxStyle:{backgroundColor:\"white\",width:\"500px\",boxShadow:\"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",display:\"block\",margin:\"0px auto\",marginTop:\"20px\",overflow:\"scroll\",height:\"450px\",maxWidth:\"95%\"},boxTitleStyle:{textAlign:\"center\",paddingTop:\"30px\",margin:\"0px\",fontWeight:\"400\",fontSize:\"35px\"},innerContentStyle:{paddingTop:\"10px\",width:\"95%\",display:\"block\",margin:\"0px auto\",position:\"relative\"},subtitle:{textAlign:\"center\",fontWeight:\"300\",marginTop:\"10px\",paddingLeft:\"20px\",paddingRight:\"20px\"}};return g(\"div\",{style:t.contentBoxStyle},g(\"h3\",{style:t.boxTitleStyle},this.props.title),g(\"h3\",{style:t.subtitle},this.props.subtitle),g(\"div\",{style:t.innerContentStyle},this.props.children))}}]),e}(b.a.Component),x=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"render\",value:function(){return g(\"form\",{onSubmit:this.props.handleSubmit},g(\"div\",{style:{display:\"block\",margin:\"0px auto\",width:\"100%\",marginBottom:\"20px\",marginTop:\"30px\"}},g(k,{name:\"firstName\",value:this.props.firstName,onChange:this.props.handleChange,placeholder:\"First Name\"}),g(k,{name:\"lastName\",value:this.props.lastName,onChange:this.props.handleChange,placeholder:\"Last Name\"}),g(k,{name:\"username\",value:this.props.username,onChange:this.props.handleChange,placeholder:\"Purdue Username\"})),g(S,null))}}]),e}(b.a.Component),k=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"render\",value:function(){var t={border:\"1px solid black\",padding:\"6px\",borderRadius:\"4px\",fontSize:\"17px\",display:\"block\",margin:\"20px auto\",textAlign:\"center\",width:this.props.width};return g(\"input\",{name:this.props.name,style:t,value:this.props.firstName,onChange:this.props.onChange,placeholder:this.props.placeholder})}}]),e}(b.a.Component),S=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={hover:!1},a}return Object(p.a)(e,t),Object(r.a)(e,[{key:\"toggleHover\",value:function(){this.setState({hover:!this.state.hover})}},{key:\"render\",value:function(){var t=this,e={fontSize:\"30px\",border:\"none\",backgroundColor:\"rgb(191, 49, 56)\",color:\"white\",width:\"100px\",height:\"40px\",cursor:\"pointer\",outline:\"none\",borderRadius:\"4px\",display:\"block\",margin:\"0px auto\",marginTop:\"30px\"};return this.state.hover&&(e.backgroundColor=\"#AB1B23\"),g(\"button\",{onMouseLeave:function(){return t.toggleHover()},onMouseEnter:function(){return t.toggleHover()},style:e,onClick:this.props.onClick},\"\\u2192\")}}]),e}(b.a.Component);e.default=f},u6Hu:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return a(\"O2ls\")}])}},[[\"u6Hu\",0,2,1,3]]]);"}