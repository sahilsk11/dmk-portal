{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{O2ls:function(t,e,a){\"use strict\";a.r(e);var n=a(\"0iUn\"),i=a(\"sLSF\"),o=a(\"MI3g\"),s=a(\"a7VT\"),r=a(\"AT/M\"),l=a(\"Tit0\"),u=a(\"MX0m\"),h=a.n(u),c=a(\"q1tI\"),p=a.n(c),d=a(\"8Kt/\"),m=a.n(d),b=p.a.createElement,g=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={displayState:\"username\",loading:!1,inputValue:\"\",newUser:!1,username:\"\"},a.handleChange=a.handleChange.bind(Object(r.a)(a)),a.authenticate=a.authenticate.bind(Object(r.a)(a)),a.checkUsername=a.checkUsername.bind(Object(r.a)(a)),a.setFirstName=a.setFirstName.bind(Object(r.a)(a)),a.setLastName=a.setLastName.bind(Object(r.a)(a)),a}return Object(l.a)(e,t),Object(i.a)(e,[{key:\"handleChange\",value:function(t){this.setState({inputValue:t.target.value})}},{key:\"checkUsername\",value:function(t){var e=this;t.preventDefault();var a=this.state.inputValue;\"\"!=a?a.length>10?alert(\"That's a little too long!\"):(this.setState({loading:!0}),fetch(\"http://localhost:8080/check_user?username=\"+a,{method:\"POST\"}).then((function(t){return t.json()})).then((function(t){e.setState({displayState:\"new_user\"===t.state?\"emailVerification\":t.state,cellID:t.cellID,newUser:\"new_user\"===t.state,username:a,loading:!1,inputValue:\"\"})})).catch((function(t){e.setState({displayState:\"error\"})}))):alert(\"Please type in your username!\")}},{key:\"authenticate\",value:function(t){var e=this;t.preventDefault();var a=this.state.inputValue;if(\"\"!=a)if(a.length>10)alert(\"That's a little too long!\");else{var n=\"http://localhost:8080/authenticate?username=\"+this.state.username+\"&token=\"+a;fetch(n,{method:\"POST\"}).then((function(t){return t.json()})).then((function(t){t.authenticated?e.state.newUser?e.setState({displayState:\"newUserFirstName\",inputValue:\"\"}):(document.cookie=\"token=\"+t.token+\"; path=/\",window.location=\"/\"):e.setState({displayState:\"invalidPassword\"})}))}else alert(\"Please type in your login token!\")}},{key:\"setFirstName\",value:function(t){t.preventDefault(),\"\"!=this.state.inputValue?this.state.inputValue.length>10?alert(\"That's a little too long!\"):this.setState({firstName:this.state.inputValue,inputValue:\"\",displayState:\"newUserLastName\"}):alert(\"Please type in your name!\")}},{key:\"setLastName\",value:function(t){t.preventDefault();var e=this.state.inputValue;if(\"\"!=e)if(e.length>10)alert(\"That's a little too long!\");else{var a=\"http://localhost:8080/add_name?cellID=\"+this.state.cellID+\"&firstName=\"+this.state.firstName+\"&lastName=\"+e;fetch(a),document.cookie=\"token=\"+this.state.username+\"; path=/\",window.location=\"/\"}else alert(\"Please type in your last name!\")}},{key:\"render\",value:function(){var t={username:{title:\"Hey There \\ud83d\\udc4b\",subtitle:\"Welcome to the DMK Portal! Let's start with your Purdue username.\",onFormSubmit:this.checkUsername,inputPlaceholder:\"Purdue Username\"},emailVerification:{title:\"Check your email \\ud83d\\udceb\",subtitle:\"Check your Purdue email for authentication (or continue if password saved).\",onFormSubmit:this.authenticate,inputPlaceholder:\"top secret...\"},newUserFirstName:{title:\"You look new! \\ud83d\\udc40\",subtitle:\"What's your first name?\",onFormSubmit:this.setFirstName,inputPlaceholder:\"What do you go by?\"},newUserLastName:{title:\"...and last name \\ud83c\\udf89\",subtitle:\"No middle name please.\",onFormSubmit:this.setLastName,inputPlaceholder:\"Who are your people?\"},invalidPassword:{title:\"Uh oh \\ud83d\\ude27\",subtitle:\"That doesn't look right. Try copying the code exactly as it appears in the email.\",onFormSubmit:this.authenticate,inputPlaceholder:\"top secret...\"},error:{title:\"Well, that's embarrassing \\ud83d\\ude48\",subtitle:\"There's an error on our end. Try again later!\",onFormSubmit:this.authenticate,inputPlaceholder:\"top secret...\",hideForm:!0}}[this.state.displayState];return b(\"div\",{className:\"jsx-1555840043\"},b(m.a,null,b(\"title\",{className:\"jsx-1555840043\"},\"DMK Portal - Login\"),b(\"link\",{href:\"/images/icon.png\",rel:\"icon\",className:\"jsx-1555840043\"})),b(f,null),b(y,{title:t.title,subtitle:t.subtitle},b(\"form\",{onSubmit:t.onFormSubmit,className:\"jsx-1555840043\"},b(v,{onChange:this.handleChange,value:this.state.inputValue,placeholder:t.inputPlaceholder,hide:t.hideForm}),b(x,{loading:this.state.loading,hide:t.hideForm}))),b(h.a,{id:\"1555840043\"},[\"body{margin:0px;background-color:#F7F7FB;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;}\"]))}}]),e}(p.a.Component),f=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(i.a)(e,[{key:\"render\",value:function(){return b(\"div\",{style:{width:\"100%\",backgroundColor:\"#AB1B23\",height:\"58px\"}},b(\"img\",{src:\"/images/icon.png\",style:{width:\"50px\",marginLeft:\"20px\",marginTop:\"6px\"}}))}}]),e}(p.a.Component),y=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(i.a)(e,[{key:\"render\",value:function(){var t={contentBoxStyle:{backgroundColor:\"white\",width:\"500px\",boxShadow:\"0 4px 4px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",display:\"block\",margin:\"0px auto\",marginTop:\"20px\",overflow:\"scroll\",height:\"350px\",maxWidth:\"95%\"},boxTitleStyle:{textAlign:\"center\",paddingTop:\"30px\",margin:\"0px\",fontWeight:\"400\",fontSize:\"35px\"},innerContentStyle:{paddingTop:\"10px\",width:\"95%\",display:\"block\",margin:\"0px auto\",position:\"relative\"},subtitle:{textAlign:\"center\",fontWeight:\"300\",marginTop:\"10px\",paddingLeft:\"20px\",paddingRight:\"20px\"}};return b(\"div\",{style:t.contentBoxStyle},b(\"h3\",{style:t.boxTitleStyle},this.props.title),b(\"h3\",{style:t.subtitle},this.props.subtitle),b(\"div\",{style:t.innerContentStyle},this.props.children))}}]),e}(p.a.Component),v=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(i.a)(e,[{key:\"render\",value:function(){var t={border:\"1px solid black\",padding:\"6px\",borderRadius:\"4px\",fontSize:\"17px\",display:\"block\",margin:\"20px auto\",textAlign:\"center\",width:this.props.width};return!0!==this.props.hide?b(\"input\",{name:this.props.name,style:t,value:this.props.value,onChange:this.props.onChange,placeholder:this.props.placeholder}):null}}]),e}(p.a.Component),x=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(s.a)(e).call(this,t))).state={hover:!1},a}return Object(l.a)(e,t),Object(i.a)(e,[{key:\"toggleHover\",value:function(){this.setState({hover:!this.state.hover})}},{key:\"render\",value:function(){var t=this,e={fontSize:\"30px\",border:\"none\",backgroundColor:\"rgb(191, 49, 56)\",color:\"white\",width:\"100px\",height:\"40px\",cursor:\"pointer\",outline:\"none\",borderRadius:\"4px\",display:\"block\",margin:\"0px auto\",marginTop:\"30px\"};return this.state.hover&&(e.backgroundColor=\"#AB1B23\"),!0===this.props.hide?null:this.props.loading?b(\"img\",{src:\"/images/loading-white.gif\",style:{width:\"30px\",display:\"block\",margin:\"0px auto\"}}):b(\"div\",null,b(\"button\",{onMouseLeave:function(){return t.toggleHover()},onMouseEnter:function(){return t.toggleHover()},style:e,onClick:this.props.onClick},\"\\u2192\"))}}]),e}(p.a.Component);e.default=g},u6Hu:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return a(\"O2ls\")}])}},[[\"u6Hu\",0,2,1,12]]]);"}